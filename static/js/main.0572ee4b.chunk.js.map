{"version":3,"sources":["views/features/Results/Results.module.css","views/components/Card/Card.module.css","views/components/Error/Error.module.css","views/features/Player/Player.module.css","views/pages/Game/Game.module.css","views/layouts/Main/Main.module.css","views/components/Preloader/Preloader.module.css","views/components/Button/Button.module.css","views/components/Cards/Cards.module.css","views/pages/Home/Home.module.css","constants/environment.js","serviceWorkerRegistration.js","reportWebVitals.js","state/ducks/board/reducer.js","state/ducks/board/actions.js","state/ducks/board/selectors.js","state/ducks/board/index.js","state/ducks/player/reducer.js","state/ducks/player/actions.js","state/ducks/player/selectors.js","state/ducks/player/index.js","state/ducks/results/reducer.js","state/ducks/results/actions.js","state/ducks/results/selectors.js","state/ducks/results/index.js","state/store.js","views/components/Button/Button.js","views/features/Results/Results.js","views/pages/Leaderboards/Leaderboards.js","constants/broad.js","utils/helpers.js","utils/board.js","views/components/Card/Card.js","views/components/Cards/Cards.js","views/features/Board/Board.js","views/pages/Game/Game.js","views/features/Player/Player.js","views/pages/Home/Home.js","views/components/Error/Error.js","constants/routes.js","views/layouts/Main/Main.js","App.js","views/components/Preloader/Preloader.js","views/components/ErrorBoundary/ErrorBoundary.js","index.js"],"names":["module","exports","ENV","IS_PROD","NODE_ENV","IS_DEV","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","boardSlice","createSlice","name","initialState","isInitialFlipped","board","reducers","setIsInitialFlipped","payload","setBoard","actions","filter","currentCard","length","reducer","playerSlice","nickname","points","addPoints","clearPoints","setNickname","player","resultsSlice","results","savePlayer","slice","sort","a","configureStore","persistReducer","key","storage","combineReducers","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","devTools","Button","children","className","attrs","Tag","to","Link","styles","button","defaultProps","Leaderboards","selectSortedResults","resultsSelectors","useSelector","table","map","thead","head","scope","i","row","item","empty","Results","AVAILABLE_CARDS","shuffleArray","array","j","Math","floor","random","isObjectOrNull","value","generateCards","size","cardsNumber","Number","isNaN","Error","copyAvailableCards","slicedCards","duplicatedCards","Card","isFlipped","selectCard","isRevealed","useMemo","useSpring","opacity","transform","mass","tension","friction","symbol","container","disabled","onClick","div","card","front","style","o","back","t","Cards","cards","initialFlipped","selected","firstSelected","first","secondSelected","second","boardSize","containerStyles","gridTemplate","height","index","isDisabled","Board","selectBoard","boardSelectors","selectIsInitialFlipped","selectIsBoardEmpty","boardActions","resultsActions","playerActions","selectNickname","playerSelectors","selectPoints","isBoardEmpty","dispatch","useDispatch","history","useHistory","useState","setCards","selectedCard","setSelectedCard","clearSelection","useCallback","draft","initialSelectedObject","useEffect","firstCard","secondCard","wrongAnswerPoints","timeoutId","setTimeout","wrongAnswerFlipDelay","clearTimeout","updateCardByType","type","correctAnswerPoints","push","initialDelayBeforeFlip","updateSelectedCard","isSelectCard","Game","heading","Player","cachedNickname","nicknameField","setNicknameField","isNicknameTouched","setIsNicknameTouched","nicknameErrorMessage","setNicknameErrorMessage","validateNickname","shortNickname","longNickname","form","onSubmit","e","preventDefault","label","htmlFor","input","id","onChange","target","Home","title","description","subTitle","content","subheading","link","ROUTES","path","component","exact","props","Main","App","Component","Preloader","ErrorBoundary","hasError","this","fallback","persistor","persistStore","store","loading","render","document","getElementById","URL","process","href","origin","addEventListener","fetch","headers","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.0572ee4b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"Results_table__1LfOJ\",\"head\":\"Results_head__lIcIQ\",\"row\":\"Results_row__3NOw7\",\"item\":\"Results_item__3t02t\",\"empty\":\"Results_empty__1Njqh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Card_container__3wAV0\",\"card\":\"Card_card__3ohV0\",\"front\":\"Card_front__3Gs6P\",\"back\":\"Card_back__1KXLK\",\"disabled\":\"Card_disabled__11A2D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Error_container__1r47t\",\"content\":\"Error_content__31cqs\",\"subheading\":\"Error_subheading__2Qvh5\",\"heading\":\"Error_heading__1-rmY\",\"description\":\"Error_description__TPpj4\",\"link\":\"Error_link__36WIg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Player_form__2NcyP\",\"label\":\"Player_label__UaXzd\",\"error\":\"Player_error__2AiTP\",\"input\":\"Player_input__1GF31\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"row\":\"Game_row__21yo6\",\"heading\":\"Game_heading__C5H_m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Main_container__RziVg\",\"content\":\"Main_content__CpvgR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Preloader_container__3gbrS\",\"heading\":\"Preloader_heading__372rm\",\"loading\":\"Preloader_loading__1bUCY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__31RAP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Cards_container__2oDit\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Home_container__FweIA\"};","const { NODE_ENV } = process.env;\n\nconst ENV = {\n  IS_PROD: NODE_ENV === 'production',\n  IS_DEV: NODE_ENV === 'development',\n};\n\nexport default ENV;\n","/* eslint-disable no-restricted-globals, no-console, max-len */\n\nimport ENV from './constants/environment';\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n  if (ENV.IS_PROD && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { createSlice } from '@reduxjs/toolkit';\n\nexport const boardSlice = createSlice({\n  name: 'board',\n  initialState: {\n    isInitialFlipped: true,\n    board: [],\n  },\n  reducers: {\n    setIsInitialFlipped: (state, { payload }) => ({\n      ...state,\n      isInitialFlipped: payload,\n    }),\n    setBoard: (state, { payload }) => ({ ...state, board: payload }),\n  },\n});\n\nexport default boardSlice.reducer;\n","import { boardSlice } from './reducer';\n\nexport const { setIsInitialFlipped, setBoard } = boardSlice.actions;\n\nexport default {\n  setIsInitialFlipped,\n  setBoard,\n};\n","export const selectIsInitialFlipped = ({ board: { isInitialFlipped } }) =>\n  isInitialFlipped;\nexport const selectBoard = ({ board: { board } }) => board;\nexport const selectIsBoardEmpty = ({ board: { board } }) => {\n  const filteredBoard = board.filter(\n    currentCard => typeof currentCard === 'string',\n  );\n  return filteredBoard.length === 0;\n};\n\nexport default {\n  selectIsInitialFlipped,\n  selectBoard,\n  selectIsBoardEmpty,\n};\n","import reducer from './reducer';\n\nexport { default as boardActions } from './actions';\nexport { default as boardSelectors } from './selectors';\n\nexport default reducer;\n","import { createSlice } from '@reduxjs/toolkit';\n\nexport const playerSlice = createSlice({\n  name: 'player',\n  initialState: {\n    nickname: '',\n    points: 0,\n  },\n  reducers: {\n    addPoints: (state, { payload }) => ({\n      ...state,\n      points: state.points + payload,\n    }),\n    clearPoints: state => ({ ...state, points: 0 }),\n    setNickname: (state, { payload }) => ({ ...state, nickname: payload }),\n  },\n});\n\nexport default playerSlice.reducer;\n","import { playerSlice } from './reducer';\n\nexport const {\n  addPoints,\n  setNickname,\n  setBoard,\n  clearPoints,\n} = playerSlice.actions;\n\nexport default {\n  addPoints,\n  setNickname,\n  setBoard,\n  clearPoints,\n};\n","export const selectNickname = ({ player: { nickname } }) => nickname;\nexport const selectPoints = ({ player: { points } }) => points;\n\nexport default {\n  selectNickname,\n  selectPoints,\n};\n","import reducer from './reducer';\n\nexport { default as playerActions } from './actions';\nexport { default as playerSelectors } from './selectors';\n\nexport default reducer;\n","import { createSlice } from '@reduxjs/toolkit';\n\nexport const resultsSlice = createSlice({\n  name: 'results',\n  initialState: {\n    results: [],\n  },\n  reducers: {\n    savePlayer: (state, { payload }) => ({\n      ...state,\n      results: [...state.results, payload],\n    }),\n  },\n});\n\nexport default resultsSlice.reducer;\n","import { resultsSlice } from './reducer';\n\nexport const { savePlayer } = resultsSlice.actions;\n\nexport default {\n  savePlayer,\n};\n","export const selectResults = ({ results: { results } }) => results;\nexport const selectSortedResults = ({ results: { results } }) =>\n  results.slice().sort(({ points: a }, { points: d }) => d - a);\n\nexport default {\n  selectResults,\n  selectSortedResults,\n};\n","import reducer from './reducer';\n\nexport { default as resultsActions } from './actions';\nexport { default as resultsSelectors } from './selectors';\n\nexport default reducer;\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport storage from 'redux-persist/lib/storage';\nimport {\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\nimport { combineReducers } from 'redux';\n\nimport ENV from '../constants/environment';\nimport * as reducers from './ducks';\n\nexport default configureStore({\n  reducer: persistReducer(\n    {\n      key: 'store',\n      storage,\n    },\n    combineReducers(reducers),\n  ),\n  middleware: getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n  devTools: ENV.IS_DEV,\n});\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport styles from './Button.module.css';\n\nconst Button = ({ children, className, ...attrs }) => {\n  const Tag = attrs.to ? Link : 'button';\n\n  return (\n    <Tag {...attrs} className={className || styles.button}>\n      {children}\n    </Tag>\n  );\n};\n\nButton.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n};\n\nButton.defaultProps = {\n  children: 'Simple title',\n  className: '',\n};\n\nexport default Button;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { resultsSelectors } from '../../../state/ducks/results';\nimport Button from '../../components/Button/Button';\n\nimport styles from './Results.module.css';\n\nconst Leaderboards = () => {\n  const { selectSortedResults } = resultsSelectors;\n\n  const results = useSelector(selectSortedResults);\n  const theads = ['Name', 'Points'];\n\n  return (\n    <div>\n      <table className={styles.table}>\n        <thead>\n          <tr>\n            {theads.map(thead => (\n              <th key={thead} className={styles.head} scope=\"col\">\n                {thead}\n              </th>\n            ))}\n          </tr>\n        </thead>\n        <tbody>\n          {results.length ? (\n            results.map(({ nickname, points }, i) => (\n              <tr key={`${nickname}_${i}`} className={styles.row}>\n                <td className={styles.item}>{nickname}</td>\n                <td className={styles.item}>{points}</td>\n              </tr>\n            ))\n          ) : (\n            <div className={`${styles.row} ${styles.empty}`}>No data</div>\n          )}\n        </tbody>\n      </table>\n      <Button to=\"/\">Reset game</Button>\n    </div>\n  );\n};\n\nexport default Leaderboards;\n","import React from 'react';\n\nimport Results from '../../features/Results/Results';\n\nconst Leaderboards = () => (\n  <div>\n    <h1>Leaderboard</h1>\n    <Results />\n  </div>\n);\n\nexport default Leaderboards;\n","export const AVAILABLE_CARDS = [\n  'ðŸ˜€',\n  'ðŸ¥¶',\n  'ðŸ¥³',\n  'ðŸ¤¡',\n  'ðŸ‘»',\n  'ðŸ¤–',\n  'ðŸ’š',\n  'ðŸ’£',\n  'ðŸ’¤',\n  'ðŸ‘‹',\n  'ðŸ’…',\n  'ðŸ§ ',\n  'ðŸ‘€',\n  'ðŸ™‹â€â™€ï¸',\n  'ðŸ¶',\n  'ðŸ¦„',\n  'ðŸ·',\n  'ðŸ¦†',\n  'ðŸ›',\n  'ðŸŽ',\n  'ðŸ‰',\n  'ðŸ†',\n  'ðŸ¿',\n  'ðŸª',\n  'ðŸ­',\n  'ðŸ¾',\n  'ðŸ–',\n  'ðŸš•',\n  'ðŸš€',\n  'â­',\n  'ðŸŽ',\n];\n\nexport const DEFAULT_CONFIG = {\n  wrongAnswerPoints: -100,\n  correctAnswerPoints: 200,\n  initialDelayBeforeFlip: 2000,\n  wrongAnswerFlipDelay: 1000,\n};\n","export const shuffleArray = array => {\n  for (let i = array.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [array[i], array[j]] = [array[j], array[i]];\n  }\n};\n\nexport const isObjectOrNull = value => typeof value === 'object';\n","import { AVAILABLE_CARDS } from '../constants/broad';\nimport { shuffleArray } from './helpers';\n\nconst generateCards = size => {\n  const cardsNumber = +size;\n\n  if (Number.isNaN(cardsNumber) || cardsNumber <= 0) {\n    throw Error(\n      `Board size must be number from 0 to ${AVAILABLE_CARDS.length}.`,\n    );\n  }\n\n  if (cardsNumber > AVAILABLE_CARDS.length) {\n    throw Error(`Board size cannot be greater than ${AVAILABLE_CARDS.length}.`);\n  }\n\n  const copyAvailableCards = [...AVAILABLE_CARDS];\n\n  shuffleArray(copyAvailableCards);\n\n  const slicedCards = copyAvailableCards.slice(0, size);\n  const duplicatedCards = [...slicedCards, ...slicedCards];\n\n  shuffleArray(duplicatedCards);\n\n  return duplicatedCards;\n};\n\nexport default generateCards;\n","import React, { useMemo } from 'react';\nimport { useSpring, animated } from 'react-spring';\nimport PropTypes from 'prop-types';\n\nimport { isObjectOrNull } from '../../../utils/helpers';\n\nimport styles from './Card.module.css';\n\nconst Card = ({ value, isFlipped, selectCard }) => {\n  const isRevealed = useMemo(() => {\n    if (isObjectOrNull(value)) return true;\n\n    return isFlipped;\n  }, [isFlipped, value]);\n  const { transform, opacity } = useSpring({\n    opacity: isRevealed ? 1 : 0,\n    transform: `perspective(600px) rotateX(${isRevealed ? 180 : 0}deg)`,\n    config: { mass: 5, tension: 500, friction: 80 },\n  });\n\n  const symbol = useMemo(() => {\n    if (isObjectOrNull(value)) return value.value;\n\n    return value;\n  }, [value]);\n\n  return (\n    <div\n      className={`${styles.container} ${value.disabled && styles.disabled}`}\n      onClick={selectCard}\n    >\n      <animated.div\n        className={`${styles.card} ${styles.front}`}\n        style={{ opacity: opacity.to(o => 1 - o), transform }}\n      />\n      <animated.div\n        className={`${styles.card} ${styles.back}`}\n        style={{\n          opacity,\n          transform: transform.to(t => `${t} rotateX(180deg)`),\n        }}\n      >\n        {symbol}\n      </animated.div>\n    </div>\n  );\n};\n\nCard.propTypes = {\n  value: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.shape({ value: PropTypes.string, disabled: PropTypes.bool }),\n  ]),\n  isFlipped: PropTypes.bool,\n  selectCard: PropTypes.func,\n};\n\nCard.defaultProps = {\n  value: '',\n  isFlipped: false,\n  selectCard: () => {},\n};\n\nexport default Card;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Card from '../Card/Card';\n\nimport styles from './Cards.module.css';\n\nconst Cards = ({\n  cards,\n  initialFlipped,\n  selected: { first: firstSelected, second: secondSelected },\n  boardSize,\n  selectCard,\n}) => {\n  const containerStyles = {\n    gridTemplate: `repeat(${boardSize}, 1fr) / repeat(${boardSize}, 1fr)`,\n    height: `calc(${boardSize}*100px)`,\n  };\n\n  return (\n    <div className={styles.container} style={containerStyles}>\n      {cards.map((card, i) => {\n        const handleSelectCard = () => selectCard(card, i);\n        const isFlipped =\n          initialFlipped ||\n          firstSelected.index === i ||\n          secondSelected.index === i;\n\n        return (\n          <Card\n            key={`${card}_${i}`}\n            isDisabled={card.disabled}\n            isFlipped={isFlipped}\n            selectCard={handleSelectCard}\n            value={card}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nCards.propTypes = {\n  cards: PropTypes.arrayOf(\n    PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.shape({ disabled: PropTypes.bool }),\n    ]),\n  ),\n  initialFlipped: PropTypes.bool,\n  selected: PropTypes.shape({\n    first: PropTypes.shape({ card: PropTypes.string, index: PropTypes.number }),\n    second: PropTypes.shape({\n      card: PropTypes.string,\n      index: PropTypes.number,\n    }),\n  }).isRequired,\n  boardSize: PropTypes.number,\n  selectCard: PropTypes.func,\n};\n\nCards.defaultProps = {\n  cards: [],\n  initialFlipped: false,\n  boardSize: 0,\n  selectCard: () => {},\n};\n\nexport default Cards;\n","import React, { useEffect, useCallback, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\n\nimport { DEFAULT_CONFIG } from '../../../constants/broad';\nimport generateCards from '../../../utils/board';\nimport { playerActions, playerSelectors } from '../../../state/ducks/player';\nimport { resultsActions } from '../../../state/ducks/results';\nimport { boardActions, boardSelectors } from '../../../state/ducks/board';\nimport Cards from '../../components/Cards/Cards';\n\nconst Board = ({ size, config }) => {\n  const {\n    selectBoard,\n    selectIsInitialFlipped,\n    selectIsBoardEmpty,\n  } = boardSelectors;\n  const { setBoard, setIsInitialFlipped } = boardActions;\n  const { savePlayer } = resultsActions;\n  const { addPoints, clearPoints } = playerActions;\n  const { selectNickname, selectPoints } = playerSelectors;\n\n  const board = useSelector(selectBoard);\n  const isInitialFlipped = useSelector(selectIsInitialFlipped);\n  const isBoardEmpty = useSelector(selectIsBoardEmpty);\n  const nickname = useSelector(selectNickname);\n  const points = useSelector(selectPoints);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [cards, setCards] = useState(() =>\n    isBoardEmpty ? generateCards(size) : board,\n  );\n  const [selectedCard, setSelectedCard] = useState({\n    first: { card: '', index: -1 },\n    second: { card: '', index: -1 },\n  });\n\n  const selectCard = (card, index) => {\n    const updateSelectedCard = type =>\n      setSelectedCard(draft => {\n        draft[type].card = card;\n        draft[type].index = index;\n      });\n\n    const isSelectCard = type => type.index === -1 || type.index === index;\n    const { first: firstCard, second: secondCard } = selectedCard;\n\n    if (isSelectCard(firstCard)) {\n      updateSelectedCard('first');\n      return;\n    }\n\n    isSelectCard(secondCard) && updateSelectedCard('second');\n  };\n\n  const clearSelection = useCallback(() => {\n    setSelectedCard(draft => {\n      const initialSelectedObject = {\n        card: '',\n        index: -1,\n      };\n\n      draft.first = initialSelectedObject;\n      draft.second = initialSelectedObject;\n    });\n  }, [setSelectedCard]);\n\n  useEffect(() => {\n    const { first: firstCard, second: secondCard } = selectedCard;\n\n    if (firstCard.index === -1 || secondCard.index === -1) return;\n\n    if (firstCard.card !== secondCard.card) {\n      dispatch(addPoints(config.wrongAnswerPoints));\n\n      const timeoutId = setTimeout(clearSelection, config.wrongAnswerFlipDelay);\n\n      // eslint-disable-next-line consistent-return\n      return () => {\n        clearTimeout(timeoutId);\n      };\n    }\n\n    const updateCardByType = type => ({ value: type.card, disabled: true });\n\n    setCards(draft => {\n      draft[firstCard.index] = updateCardByType(firstCard);\n      draft[secondCard.index] = updateCardByType(secondCard);\n    });\n\n    dispatch(addPoints(config.correctAnswerPoints));\n    clearSelection();\n  }, [\n    dispatch,\n    config,\n    setCards,\n    setSelectedCard,\n    clearSelection,\n    selectedCard,\n    addPoints,\n  ]);\n\n  useEffect(() => {\n    if (isBoardEmpty && points > 0) {\n      dispatch(savePlayer({ nickname, points }));\n      dispatch(clearPoints());\n      dispatch(setBoard(cards));\n      dispatch(setIsInitialFlipped(true));\n\n      history.push('/leaderboards');\n\n      return;\n    }\n\n    dispatch(setBoard(cards));\n  }, [\n    cards,\n    dispatch,\n    history,\n    isBoardEmpty,\n    points,\n    nickname,\n    setBoard,\n    setIsInitialFlipped,\n    savePlayer,\n    clearPoints,\n  ]);\n\n  useEffect(() => {\n    const timeoutId = setTimeout(() => {\n      dispatch(setIsInitialFlipped(false));\n    }, config.initialDelayBeforeFlip);\n\n    return () => {\n      clearTimeout(timeoutId);\n    };\n  }, [dispatch, config, setIsInitialFlipped]);\n\n  return (\n    <Cards\n      boardSize={size / 2}\n      cards={cards}\n      initialFlipped={isInitialFlipped}\n      selectCard={selectCard}\n      selected={selectedCard}\n    />\n  );\n};\n\nBoard.propTypes = {\n  size: PropTypes.number.isRequired,\n  config: PropTypes.shape({\n    wrongAnswerPoints: PropTypes.number.isRequired,\n    correctAnswerPoints: PropTypes.number.isRequired,\n    initialDelayBeforeFlip: PropTypes.number.isRequired,\n    wrongAnswerFlipDelay: PropTypes.number.isRequired,\n  }),\n};\n\nBoard.defaultProps = {\n  config: DEFAULT_CONFIG,\n};\n\nexport default Board;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { playerSelectors } from '../../../state/ducks/player';\nimport Board from '../../features/Board/Board';\n\nimport styles from './Game.module.css';\n\nconst Game = () => {\n  const { selectNickname, selectPoints } = playerSelectors;\n\n  const nickname = useSelector(selectNickname);\n  const points = useSelector(selectPoints);\n\n  return (\n    <div className={styles.row}>\n      <h1 className={styles.heading}>\n        <span>Player: {nickname}</span> <span>{points}</span>\n      </h1>\n\n      <Board size={8} />\n    </div>\n  );\n};\n\nexport default Game;\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { playerActions, playerSelectors } from '../../../state/ducks/player';\n\nimport styles from './Player.module.css';\nimport Button from '../../components/Button/Button';\n\nconst Player = () => {\n  const { selectNickname } = playerSelectors;\n  const { setNickname } = playerActions;\n\n  const cachedNickname = useSelector(selectNickname);\n  const [nicknameField, setNicknameField] = useState(cachedNickname);\n  const [isNicknameTouched, setIsNicknameTouched] = useState(false);\n  const [nicknameErrorMessage, setNicknameErrorMessage] = useState('');\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const validateNickname = nickname => {\n    setIsNicknameTouched(true);\n\n    const shortNickname = nickname.length < 3;\n    const longNickname = nickname.length > 32;\n\n    if (shortNickname || longNickname) {\n      const errorMessage = shortNickname\n        ? 'Nickname is too short.'\n        : 'Nickname is too long.';\n      setNicknameErrorMessage(errorMessage);\n      return false;\n    }\n\n    setNicknameErrorMessage(false);\n    return true;\n  };\n\n  const handleChange = ({ target: { value: nickname } }) => {\n    setNicknameField(nickname);\n    validateNickname(nickname);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    const isNicknameValid = validateNickname(nicknameField);\n    if (!isNicknameValid) return;\n\n    dispatch(setNickname(nicknameField));\n\n    history.push('/game');\n  };\n\n  return (\n    <form className={styles.form} onSubmit={handleSubmit}>\n      <label className={styles.label} htmlFor=\"nickname-input\">\n        Nickname\n      </label>\n      <input\n        className={styles.input}\n        id=\"nickname-input\"\n        name=\"nickname\"\n        onChange={handleChange}\n        value={nicknameField}\n      />\n      <div className={styles.error}>\n        {isNicknameTouched && nicknameErrorMessage}\n      </div>\n      <Button type=\"submit\">Start game</Button>\n    </form>\n  );\n};\n\nexport default Player;\n","import React from 'react';\n\nimport Player from '../../features/Player/Player';\n\nimport styles from './Home.module.css';\n\nconst Home = () => (\n  <div className={styles.container}>\n    <h1>Memory game</h1>\n    <Player />\n  </div>\n);\n\nexport default Home;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Button from '../Button/Button';\n\nimport styles from './Error.module.css';\n\nconst Error = ({ title, description, subTitle }) => (\n  <div className={styles.container}>\n    <div className={styles.content}>\n      {subTitle && <h2 className={styles.subheading}>{subTitle}</h2>}\n      <h1 className={styles.heading}>{title}</h1>\n      <p className={styles.description}>{description}</p>\n      <Button className={styles.link} to=\"/\">\n        Go back home\n      </Button>\n    </div>\n  </div>\n);\n\nError.propTypes = {\n  title: PropTypes.string,\n  description: PropTypes.string,\n  subTitle: PropTypes.string,\n};\n\nError.defaultProps = {\n  title: '404',\n  description: \"We can't find the page you're looking for.\",\n  subTitle: '',\n};\n\nexport default Error;\n","import Leaderboards from '../views/pages/Leaderboards/Leaderboards';\nimport Game from '../views/pages/Game/Game';\nimport Home from '../views/pages/Home/Home';\nimport Error from '../views/components/Error/Error';\n\nconst ROUTES = [\n  {\n    id: 'leaderboards',\n    path: '/leaderboards',\n    component: Leaderboards,\n  },\n  {\n    id: 'game',\n    path: '/game',\n    component: Game,\n  },\n  {\n    id: 'home',\n    path: '/',\n    exact: true,\n    component: Home,\n  },\n  {\n    id: 'error',\n    component: Error,\n    props: { subTitle: 'Oops! Nothing was found.' },\n  },\n];\n\nexport default ROUTES;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './Main.module.css';\n\nconst Main = ({ children }) => (\n  <div className={styles.container}>\n    <div className={styles.content}>{children}</div>\n  </div>\n);\n\nMain.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Main;\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\n\nimport ROUTES from './constants/routes';\nimport MainLayout from './views/layouts/Main/Main';\n\nconst App = () => (\n  <MainLayout>\n    <Switch>\n      {ROUTES.map(({ id, path, exact, component: Component, props }) => (\n        <Route key={id} exact={exact} path={path}>\n          <Component {...props} />\n        </Route>\n      ))}\n    </Switch>\n  </MainLayout>\n);\n\nexport default App;\n","import React from 'react';\n\nimport styles from './Preloader.module.css';\n\nconst Preloader = () => (\n  <div className={styles.container}>\n    <h1 className={styles.heading}>Loading...</h1>\n  </div>\n);\n\nexport default Preloader;\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass ErrorBoundary extends Component {\n  static propTypes = {\n    children: PropTypes.node.isRequired,\n    fallback: PropTypes.node.isRequired,\n  };\n\n  state = {\n    hasError: false,\n  };\n\n  static getDerivedStateFromError() {\n    return { hasError: true };\n  }\n\n  render() {\n    const { hasError } = this.state;\n    const { children, fallback } = this.props;\n\n    return hasError ? fallback : children;\n  }\n}\n\nexport default ErrorBoundary;\n","import React, { StrictMode } from 'react';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { persistStore } from 'redux-persist';\nimport { HashRouter as Router } from 'react-router-dom';\n\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\nimport ENV from './constants/environment';\nimport store from './state/store';\nimport App from './App';\nimport Preloader from './views/components/Preloader/Preloader';\nimport ErrorBoundary from './views/components/ErrorBoundary/ErrorBoundary';\nimport Error from './views/components/Error/Error';\n\nimport './index.css';\n\nconst persistor = persistStore(store);\nconst loading = <Preloader />;\nconst error = <Error description=\"Something went wrong!\" title=\"Error\" />;\n\nrender(\n  <StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={loading} persistor={persistor}>\n        <Router>\n          <ErrorBoundary fallback={error}>\n            <App />\n          </ErrorBoundary>\n        </Router>\n      </PersistGate>\n    </Provider>\n  </StrictMode>,\n  document.getElementById('root'),\n);\n\nserviceWorkerRegistration.register();\n\n// eslint-disable-next-line no-console\nENV.IS_DEV && reportWebVitals(console.log);\n"],"sourceRoot":""}